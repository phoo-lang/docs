<!DOCTYPE html><html><head><title>web/notifications :: Phoo docs</title><style>
body{color:#ddd;background:#222;font-family:serif}
h1,h3{color:#b0a}
h2,h4,h5,h6{color:#c40}
code+.dpar{padding-left:10px;display:none;opacity:75%;font-size:75%}
code:hover+.dpar,code:focus+.dpar{display:inline-block}
.shadowed{opacity:50%}
a{color:#00a}
a:visited{color:#098}
details,.admonition{border:2px solid var(--yay);border-radius:5px;--yay:#444}
.warning{--yay:#ba4}.danger,.error{--yay:#f00}.info,.note{--yay:#1af}
</style>
<link rel="icon" href="/P.png" type="image/png" />
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.css" type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/copy-tex.css" rel="stylesheet" type="text/css" />
<link href="https://phoo-lang.github.io/ext/prism/prism.css" rel="stylesheet" type="text/css" />
<script src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/copy-tex.js"></script>
<script>window.addEventListener('DOMContentLoaded',_=>{renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}]})})</script>
<script src="/ext/prism/prism.js" data-autoloader-path="https://www.jsdelivr.com/prismjs@v1.x/components/"></script>
<script src="/prism-phoo.js"></script>
<script>
Prism.plugins.toolbar.registerButton('run-code', function (env) {
    var pre = env.element.parentNode;
    var lang = Prism.util.getLanguage(pre);
    if (!pre || !/pre/i.test(pre.nodeName) || lang !== 'phoo') {
        return;
    }
    var ctr = btoa(pre.textContent);
    var btn = document.createElement('a');
    btn.setAttribute('href', `/?code=${ctr}`);
    btn.textContent = 'Run this code';
    return btn;
});
</script></head><body><h1 id="use-webnotifications"><code>use web/notifications</code></h1>
<p><strong>Dependencies:</strong> <a href="webpermissions.html"><code>web/permissions</code></a></p>
<p>This wraps the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API">Notification API</a>.</p>
<p>Note that not all features are implemented: you can include an <code>actions</code> property in the notification
options and those buttons will indeed be shown to the user, but as of right now your Phoo code will
not be able to respond to their choice of action.</p>
<h3 id="notifications%2ecan%3f"><code>notifications.can?</code>  (  &rarr; <code>t</code> )</h3>
<p>Prompts the user for permission to send notifications,
and then returns true, false, or undefined depending on whether they granted, denied,
or just closed the box. Note this will just return false immediately if you didn&rsquo;t call this
as a result of an user gesture.</p>
<h3 id="notification%2esend"><code>notification.send</code>  ( <code>o</code><em class="dpar">options object</em> <code>t</code><em class="dpar">title for notification</em> &rarr; <code>n</code><em class="dpar">notification object</em> )</h3>
<p>Sends a notification using the provided title <code>t</code> and options object <code>o</code>, returning the <code>Notification</code> object.
As a shortcut, <code>o</code> can be a string, in which it is interpreted as the <code>body</code> of the notification.</p>
<p>The available option for <code>o</code> are described <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification/Notification#parameters">here</a>.</p>
<h3 id="notification%2ehide"><code>notification.hide</code>  (  &rarr;  )</h3>
<p>Dismisses the currently active notification.</p>
<hr />
<p><a href="/docs/index.html">back to index</a></p>
<p>docs@12a8fda79157e9a269318a9814562e10329e02a3</p></body></html>