<!DOCTYPE html><html><head><title>builtins :: Phoo docs</title><link rel="icon" href="/P.png" type="image/png" />
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.css" type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/copy-tex.css" rel="stylesheet" type="text/css" />
<link href="https://phoo-lang.github.io/ext/prism/prism.css" rel="stylesheet" type="text/css" />
<script src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/copy-tex.js"></script>
<script src="/ext/prism/prism.js" data-autoloader-path="https://www.jsdelivr.com/prismjs@v1.x/components/"></script>
<script src="/prism-phoo.js"></script>
<script src="/docs/docs.js"></script>
<link href="/docs/docs.css" rel="stylesheet" type="text/css" />
</head><body><h1 id="use-builtins"><code>use builtins</code></h1>
<p><strong>Dependencies:</strong> <a href="_builtins.html"><code>_builtins</code></a></p>
<p>This module is contains the words necessary to implement the builtin functionality of Phoo, that are defined in Phoo code.</p>
<p>The words that this module depends upon can be found on the page for <a href="_builtins.html">_builtins</a> (note the underscore).</p>
<h3 id="%23pragma"><code>#pragma</code> <em class="shadowed"><code>flag</code></em> <em class="shadowed"><code>value</code></em> (  &rarr;  )</h3>
<p>Sets the settings <code>flag</code> specified.</p>
<p>Example:</p>
<pre><code class="language-phoo">
#pragma strictMode false
</code></pre>
<h3 id="in%5fscope"><code>in_scope</code> <em class="shadowed"><code>block</code></em> (  &rarr;  )</h3>
<p>Runs the code with a new entry on the scope stack.</p>
<h3 id="noop"><code>noop</code>  (  &rarr;  )</h3>
<p>A no-op.</p>
<h3 id="alias"><code>alias</code> <em class="shadowed"><code>x</code></em> <em class="shadowed"><code>y</code></em> (  &rarr;  )</h3>
<p>Aliases <code>x</code> to mean <code>y</code>.</p>
<h3 id="const"><code>const</code>  (  &rarr; <code>v</code> )</h3>
<p>Precomputes a value. <em>(#6 - doesn&rsquo;t work)</em>.</p>
<h3 id="now%21"><code>now!</code>  (  &rarr;  )</h3>
<p>Runs code during compilation. <em>(#6 - doesn&rsquo;t work)</em>.</p>
<h3 id="%2f%2f"><code>//</code>  (  &rarr;  )</h3>
<p>Line comment <em>(#6 - doesn&rsquo;t work)</em>.</p>
<h3 id="dup"><code>dup</code>  ( <code>a</code> &rarr; <code>a</code> <code>a</code> )</h3>
<p>Duplicates top item.</p>
<h3 id="over"><code>over</code>  ( <code>b</code> <code>a</code> &rarr; <code>b</code> <code>a</code> <code>b</code> )</h3>
<p>Copies second item to top.</p>
<h3 id="swap"><code>swap</code>  ( <code>b</code> <code>a</code> &rarr; <code>a</code> <code>b</code> )</h3>
<p>Swaps top two.</p>
<h3 id="rot"><code>rot</code>  ( <code>a</code> <code>b</code> <code>c</code> &rarr; <code>b</code> <code>c</code> <code>a</code> )</h3>
<p>Pulls third to top.</p>
<h3 id="unrot"><code>unrot</code>  ( <code>a</code> <code>b</code> <code>c</code> &rarr; <code>c</code> <code>a</code> <code>b</code> )</h3>
<p>Pushes top down to third.</p>
<h3 id="nip"><code>nip</code>  ( <code>a</code> <code>b</code> &rarr; <code>b</code> )</h3>
<p>Removes second stack item.</p>
<h3 id="tuck"><code>tuck</code>  ( <code>a</code> <code>b</code> &rarr; <code>b</code> <code>a</code> <code>b</code> )</h3>
<p>Copies first item to third.</p>
<h3 id="2dup"><code>2dup</code>  ( <code>a</code> <code>b</code> &rarr; <code>a</code> <code>b</code> <code>a</code> <code>b</code> )</h3>
<p><a href="#dup"><code>dup</code></a>s two items as <code>a</code> pair.</p>
<h3 id="2drop"><code>2drop</code>  ( <code>a</code> <code>b</code> &rarr;  )</h3>
<p><a href="#drop"><code>drop</code></a>s two items as <code>a</code> pair.</p>
<h3 id="2swap"><code>2swap</code>  ( <code>a</code> <code>b</code> <code>c</code> <code>d</code> &rarr; <code>c</code> <code>d</code> <code>a</code> <code>b</code> )</h3>
<p><a href="#swap"><code>swap</code></a>s two pairs of items.</p>
<h3 id="2over"><code>2over</code>  ( <code>a</code> <code>b</code> <code>c</code> <code>d</code> &rarr; <code>a</code> <code>b</code> <code>c</code> <code>d</code> <code>a</code> <code>b</code> )</h3>
<p><a href="#over"><code>over</code></a>s two pairs of items.</p>
<h3 id="pack"><code>pack</code>  ( <code>*a</code> <code>n</code> &rarr; <code>a</code> )</h3>
<p>Takes <code>n</code> and then puts <code>n</code> items into an array.</p>
<h3 id="unpack"><code>unpack</code>  ( <code>a</code> &rarr; <code>i</code> <code>j</code> <code>k</code> <code>...</code> )</h3>
<p>Reverse of <a href="#pack"><code>pack</code></a>, it flattens an array onto the stack.</p>
<h3 id="dip"><code>dip</code> <em class="shadowed"><code>op</code></em> ( <code>a</code> &rarr; <code>a</code> )</h3>
<p>Dips the top item out of the array, runs the block, and puts the item back.</p>
<h3 id="abs"><code>abs</code>  ( <code>n</code> &rarr; <code>|n|</code> )</h3>
<p>Absolute value of a number.</p>
<h3 id="%2d"><code>-</code>  ( <code>a</code> <code>b</code> &rarr; <code>a-b</code> )</h3>
<p>Subtracts top from second.</p>
<h3 id="%2f%7e"><code>/~</code>  ( <code>a</code> <code>b</code> &rarr; <code>floor(a/b)</code> )</h3>
<p>Flooring division.</p>
<h3 id="mod"><code>mod</code>  ( <code>a</code> <code>b</code> &rarr; <code>a%b</code> )</h3>
<p>Modulo.</p>
<h3 id="%21%3d"><code>!=</code>  ( <code>a</code> <code>b</code> &rarr; <code>t</code> )</h3>
<p>Not equals.</p>
<h3 id="%3c%3d"><code>&lt;=</code>  ( <code>a</code> <code>b</code> &rarr; <code>a&lt;=b</code> )</h3>
<p>Less than or equal to.</p>
<h3 id="%3c"><code>&lt;</code>  ( <code>a</code> <code>b</code> &rarr; <code>a&lt;b</code> )</h3>
<p>Less than.</p>
<h3 id="%3e%3d"><code>&gt;=</code>  ( <code>a</code> <code>b</code> &rarr; <code>a&gt;=b</code> )</h3>
<p>Greater than or equal to.</p>
<h3 id="min"><code>min</code>  ( <code>a</code> <code>b</code> &rarr; <code>v</code> )</h3>
<p>Lesser of two value.</p>
<h3 id="max"><code>max</code>  ( <code>a</code> <code>b</code> &rarr; <code>v</code> )</h3>
<p>Larger of two value.</p>
<h3 id="clamp"><code>clamp</code>  ( <code>l</code> <code>u</code> <code>x</code> &rarr; <code>v</code> )</h3>
<p>Clamps <code>x</code> to $l\gte x\gt <code>u</code>$.</p>
<h3 id="within"><code>within</code>  ( <code>l</code> <code>u</code> <code>x</code> &rarr; <code>t</code> )</h3>
<p>True if $l\gte x\gt <code>u</code>$.</p>
<h3 id="%24%3c"><code>$&lt;</code>  ( <code>s1</code> <code>s2</code> &rarr; <code>s1&lt;s2</code> )</h3>
<p>True if <code>s1</code> comes before <code>s2</code> in the dictionary.</p>
<h3 id="%24%3e"><code>$&gt;</code>  ( <code>s1</code> <code>s2</code> &rarr; <code>s1&gt;s2</code> )</h3>
<p>True if <code>s1</code> comes after <code>s2</code> in the dictionary.</p>
<h3 id="not"><code>not</code>  ( <code>t</code> &rarr; <code>t</code> )</h3>
<p>Boolean inverse.</p>
<h3 id="and"><code>and</code>  ( <code>t</code> <code>t</code> &rarr; <code>t</code> )</h3>
<p>Boolean and.</p>
<h3 id="or"><code>or</code>  ( <code>t</code> <code>t</code> &rarr; <code>t</code> )</h3>
<p>Boolean or.</p>
<h3 id="xor"><code>xor</code>  ( <code>t</code> <code>t</code> &rarr; <code>t</code> )</h3>
<p>Boolean xor.</p>
<h3 id="%3e%3e"><code>&gt;&gt;</code>  ( <code>a</code> <code>n</code> &rarr; <code>b</code> )</h3>
<p>Shift <code>a</code> right by <code>n</code> places.</p>
<h3 id="bit"><code>bit</code>  ( <code>n</code> &rarr; <code>b</code> )</h3>
<p>$2^<code>n</code>$.</p>
<h3 id="var"><code>var</code> <em class="shadowed"><code>name</code></em> (  &rarr;  )</h3>
<p>Declares a new variable, initialized to <code>undefined</code>.</p>
<h3 id="var%2c"><code>var,</code> <em class="shadowed"><code>name</code></em> ( <code>v</code> &rarr;  )</h3>
<p>Declares a new variable, initialized to top stack value.</p>
<h3 id="is"><code>is</code> <em class="shadowed"><code>name</code></em> ( <code>v</code> &rarr;  )</h3>
<p>Puts a value into a variable.</p>
<h4 id="a-note-here-on-variables">A note here on variables&hellip;</h4>
<p>Under the hood, what <code>var</code> and <code>var,</code> do is dynamically define two new words,
one being a <a href="#stack"><code>stack</code></a> called <code>var_</code><em><code>name</code></em> which holds the value,
and another one <code>:</code><em><code>name</code></em> that looks up the variable. <code>is</code> simply tacks on
&ldquo;var_&rdquo; to the name passed to it, which gets the stack, and then <a href="#replace">replaces</a>
the top item.</p>
<p><code>var foo</code> desugars into:</p>
<pre><code class="language-phoo">to var_foo [ stack undefined ]
to :foo [ var_foo copy ]
</code></pre>
<p>And <code>is foo</code>:</p>
<pre><code class="language-phoo">var_foo replace
</code></pre>
<h3 id="stack"><code>stack</code>  (  &rarr; <code>a</code> )</h3>
<p>Placed at the start of a word, makes the word an ancillary stack.</p>
<h3 id="release"><code>release</code>  ( <code>a</code> &rarr;  )</h3>
<p>Removes the first item from an array and discards it. Mutates the array.</p>
<h3 id="copy"><code>copy</code>  ( <code>a</code> &rarr; <code>i</code> )</h3>
<p>Copies the last item of the array <code>a</code> onto the stack.</p>
<h3 id="replace"><code>replace</code>  ( <code>i</code> <code>a</code> &rarr;  )</h3>
<p>Replaces the last item on the array <code>a</code> with i.</p>
<h3 id="replace"><code>replace</code>  ( <code>a</code> <code>b</code> &rarr;  )</h3>
<p>Moves the last item from the array <code>b</code> to the array <code>a</code>.</p>
<h3 id="tally"><code>tally</code>  ( <code>n</code> <code>a</code> &rarr;  )</h3>
<p>Adds <code>n</code> to the last item of the array <code>a</code>.</p>
<h3 id="temp"><code>temp</code>  (  &rarr; <code>a</code> )</h3>
<p>Temp is <code>a</code> general purpose ancillary <a href="#stack"><code>stack</code></a>.</p>
<h3 id="done"><code>done</code>  (  &rarr;  )</h3>
<p>Jumps immediately to the end of the array.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ foo bar done baz ]
// foo bar will run, baz will not
</code></pre>
<h3 id="again"><code>again</code>  (  &rarr;  )</h3>
<p>Jumps immediately to the start of the array.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ foo bar again baz ]
// foo bar will run infinitely
</code></pre>
<h3 id="if"><code>if</code>  ( <code>t</code> &rarr;  )</h3>
<p>If the top of stack is false, skips the next item.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ foo bar if baz ]
// if bar returns false, baz will be skipped
</code></pre>
<h3 id="iff"><code>iff</code>  ( <code>t</code> &rarr;  )</h3>
<p>If the top of stack is false, skips the next two items.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ foo iff bar baz ]
// if foo returns false, bar baz will be skipped
</code></pre>
<h3 id="else"><code>else</code>  (  &rarr;  )</h3>
<p>Unconditionally skips the next item.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ foo else bar baz ]
// bar will not run.
</code></pre>
<h3 id="until"><code>until</code>  ( <code>t</code> &rarr;  )</h3>
<p>If the top of stack is false, jumps back to the start of the array.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ foo bar baz until ]
// repeats foo bar baz until baz returns true.
</code></pre>
<h3 id="while"><code>while</code>  ( <code>t</code> &rarr;  )</h3>
<p>If the top of stack is false, jumps to the end of the array.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ foo while baz again ]
// runs foo at least once, then repeats bar foo until foo returns false
</code></pre>
<h3 id="switch"><code>switch</code>  ( <code>v</code> &rarr;  )</h3>
<p>Begins a switch staement: puts the value to be switched upon in a temporary stack (not <a href="#temp"><code>temp</code></a>).</p>
<p><strong>See Also:</strong> <a href="#case"><code>case</code></a>, <a href="#default"><code>default</code></a></p>
<h3 id="default"><code>default</code>  ( <code>v</code> &rarr;  )</h3>
<p>Ends a switch staement: empties the switch value from the stack it is stored on.</p>
<p><strong>See Also:</strong> <a href="#switch"><code>switch</code></a>, <a href="#case"><code>case</code></a></p>
<h3 id="case"><code>case</code> <em class="shadowed"><code>action</code></em> ( <code>v</code> &rarr;  )</h3>
<p>If the value on the stack is not the switch value, skips <code>action</code>. If it is, runs <code>action</code> and then jumps to the end of the array (skipping the other cases and the <a href="#default"><code>default</code></a>).</p>
<p><strong>See Also:</strong> <a href="#switch"><code>switch</code></a>, <a href="#default"><code>default</code></a></p>
<h4 id="how-to-write-switches">How to write switches&hellip;</h4>
<p>The Phoo <code>switch</code> construct is versatile, allowing many different arrangements of
its parts. By far the simplest is this:</p>
<pre><code class="language-phoo">switch do
    1 case do
        // do something if it was 1
    end
    2 case do
        // if it was 2
    end
    default do
        // if it was none of the options
    end
end
</code></pre>
<p>That, of course, is the nicely formatted option, however, this will suffice:</p>
<pre><code class="language-phoo">    // ... rest of block above
    switch
    1 case do
        // do something if it was 1
    end
    2 case do
        // if it was 2
    end
    default
    // if it was none of the options
end
</code></pre>
<p>Notice that the <code>switch</code> and <code>default</code> need not have a block after them; they serve only to initialize
and clean up the ancillary stack that the value to be switched on is temporarily stored on.
However, <strong>everything</strong> after the <code>default</code> is considered &ldquo;the default action&rdquo;, because the behavior of
<code>case</code> when it matches is to run the item immediately following it, and then skip <strong>all</strong> of the items following
the case block (to skip any number of subsequent cases and the <code>default</code>).</p>
<h3 id="%27"><code>'</code> <em class="shadowed"><code>value</code></em> (  &rarr; <code>v</code> )</h3>
<p>Puts the <code>value</code> following it on the stack instead of running it.</p>
<p>Example:</p>
<pre><code class="language-phoo">
[ 1 2 3 ] // results in 3 items on the stack
' [ 1 2 3 ] // results in 1 item, the array [1, 2, 3]
</code></pre>
<h3 id="run"><code>run</code>  ( <code>c</code> &rarr;  )</h3>
<p>Runs the item on the stack as code.</p>
<h3 id="this"><code>this</code>  (  &rarr; <code>a</code> )</h3>
<p>Puts <code>a</code> reference to the current array on the stack.</p>
<h3 id="table"><code>table</code>  ( <code>n</code> &rarr; <code>i</code> )</h3>
<p>Placed at the start of a word, turns it into a lookup table. Takes the <code>n</code>-th item after the <code>table</code> and puts it on the stack, and then skips everything after it.</p>
<h3 id="recurse"><code>recurse</code>  (  &rarr;  )</h3>
<p>Causes the current array to run itself again.</p>
<h3 id="times"><code>times</code> <em class="shadowed"><code>block</code></em> ( <code>n</code> &rarr;  )</h3>
<p>Runs <code>block</code> the specified number of times.</p>
<h3 id="i"><code>i</code>  (  &rarr; <code>n</code> )</h3>
<p>Inside of a <a href="#times"><code>times</code></a> loop, gets the number of iterations left to do after this one.</p>
<h3 id="i%5e"><code>i^</code>  (  &rarr; <code>n</code> )</h3>
<p>Inside of a <a href="#times"><code>times</code></a> loop, gets the number of iterations done since the loop started.</p>
<h3 id="j"><code>j</code>  (  &rarr; <code>n</code> )</h3>
<p>Inside of a doubly nested <a href="#times"><code>times</code></a> loop, gets the number of iterations left to do in the <strong>outer</strong> loop after this one.</p>
<h3 id="j%5e"><code>j^</code>  (  &rarr; <code>n</code> )</h3>
<p>Inside of a doubly nested <a href="#times"><code>times</code></a> loop, gets the number of iterations done by the <strong>outer</strong> loop since the loop started.</p>
<h3 id="step"><code>step</code>  ( <code>n</code> &rarr;  )</h3>
<p>Adds <code>n</code> to the current <a href="#times"><code>times</code></a> loop&rsquo;s iteration counter.</p>
<h3 id="restart"><code>restart</code>  (  &rarr;  )</h3>
<p>Sets the current <a href="#times"><code>times</code></a> loop&rsquo;s iteration counter to the original value it started at, restarting the loop.</p>
<h3 id="break"><code>break</code>  (  &rarr;  )</h3>
<p>Sets the current <a href="#times"><code>times</code></a> loop&rsquo;s iteration counter to 0, causing the loop to end after this iteration is done.</p>
<h3 id="printable"><code>printable</code>  ( <code>c</code> &rarr; <code>t</code> )</h3>
<p>Given a character <code>c</code>, returns true or false whether it is in the printable region of ASCII (i.e. greater than 31).</p>
<h3 id="trim"><code>trim</code>  ( <code>s</code> &rarr; <code>t</code> )</h3>
<p>Trims the leading whitespace from a string.</p>
<h3 id="nextword"><code>nextword</code>  ( <code>s</code><em class="dpar">string</em> &rarr; <code>r</code><em class="dpar">remainder of string</em> <code>w</code><em class="dpar">first word</em> )</h3>
<p>Given a string that does not start with whitespace, returns the first word and the rest of the string.</p>
<h3 id="split%24"><code>split$</code>  ( <code>s</code> &rarr; <code>a</code> )</h3>
<p>Splits <code>a</code> string <code>s</code> into an array <code>a</code> of individual words.</p>
<h3 id="nested"><code>nested</code>  ( <code>i</code> &rarr; <code>a</code> )</h3>
<p>Puts an item in its own array.</p>
<h3 id="len"><code>len</code>  ( <code>a</code> &rarr; <code>l</code> )</h3>
<p>Gets the length of the array or string.</p>
<h3 id="pluck"><code>pluck</code>  ( <code>a</code> <code>n</code> &rarr; <code>a</code> <code>i</code> )</h3>
<p>Pulls the <code>n</code>-th item out of the array <code>a</code> and returns the shortened array and the item <code>i</code>.</p>
<p><strong>See Also:</strong> <a href="#stuff"><code>stuff</code></a></p>
<h3 id="stuff"><code>stuff</code>  ( <code>a</code> <code>i</code> <code>n</code> &rarr; <code>a</code> )</h3>
<p>Reverse of <a href="#pluck"><code>pluck</code></a>, it puts the item back.</p>
<h3 id="behead"><code>behead</code>  ( <code>a</code> &rarr; <code>a</code> <code>i</code> )</h3>
<p>Returns the first item of the array <code>a</code>, and the rest. The original array is not mutated.</p>
<h3 id="join"><code>join</code>  ( <code>a</code> <code>b</code> &rarr; <code>ab</code> )</h3>
<p>Joins two arrays or strings, selecting between <a href="#%2b%2b"><code>++</code></a> and <code>concat</code> depending on the type of the arguments.</p>
<h3 id="of"><code>of</code>  ( <code>x</code> <code>n</code> &rarr; <code>a</code> )</h3>
<p>Makes an array with <code>n</code> <code>x</code>&lsquo;s in it.</p>
<h3 id="reverse"><code>reverse</code>  ( <code>arr</code> &rarr; <code>rra</code> )</h3>
<p>Reverses the array.</p>
<h3 id="reverse%24"><code>reverse$</code>  ( <code>x</code> &rarr; <code>x</code> )</h3>
<p><a href="#reverse"><code>reverse</code></a> but for strings.</p>
<h3 id="reflect"><code>reflect</code>  ( <code>x</code> &rarr; <code>x</code> )</h3>
<p><a href="#reverse"><code>reverse</code></a> but digs down into sub-arrays and reflects them too.</p>
<h3 id="makewith"><code>makewith</code>  ( <code>c</code> &rarr; <code>l</code> )</h3>
<p>Places the code in a loop and returns the generated code.</p>
<p>The returned code takes an array or string on the stack and calls the original code passed 
to <code>makewith</code> with each item of the array or string.</p>
<h3 id="witheach"><code>witheach</code> <em class="shadowed"><code>block</code></em> ( <code>a</code> &rarr;  )</h3>
<p>Takes an array or string and runs <code>block</code> for each item in it.</p>
<h3 id="fold"><code>fold</code>  ( <code>a</code> <code>r</code> &rarr; <code>s</code> )</h3>
<p>Takes <code>a</code> function and an array and reduces the array by calling the function with pairs of the items from the array:</p>
<pre><code>' [ 1   2   3   4   5   6   7   8   9   0 ] ' k fold
    |   |   |   |   |   |   |   |   |   |
    '&gt;k&lt;'   |   |   |   |   |   |   |   |
      '--&gt;k&lt;'   |   |   |   |   |   |   |
          '--&gt;k&lt;'   |   |   |   |   |   |
              '--&gt;k&lt;'   |   |   |   |   |
                  '--&gt;k&lt;'   |   |   |   |
                      '--&gt;k&lt;'   |   |   |
                          '--&gt;k&lt;'   |   |
                              '--&gt;k&lt;'   |
                                  '--&gt;k&lt;'
                                      |
                                      result.
</code></pre>
<h3 id="foldr"><code>foldr</code>  ( <code>a</code> <code>r</code> &rarr; <code>s</code> )</h3>
<p>Same as <a href="#fold"><code>fold</code></a> but applies the operation in reverse order.</p>
<h3 id="map"><code>map</code>  ( <code>a</code> <code>r</code> &rarr; <code>s</code> )</h3>
<p>Passes each item of array <code>a</code> through function <code>r</code> and concatentates the returned values.</p>
<h3 id="filter"><code>filter</code>  ( <code>a</code> <code>r</code> &rarr; <code>s</code> )</h3>
<p>Passes each item of array <code>a</code> through function <code>r</code> and returns the items for which <code>r</code> returns true.</p>
<h3 id="split"><code>split</code>  ( <code>a</code> <code>n</code> &rarr; <code>x</code> <code>y</code> )</h3>
<p>Splits the array between the <code>n</code>-th and <code>n</code>+1-th items and returns the parts, second half on top.</p>
<h3 id="matchitem"><code>matchitem</code>  ( <code>a</code><em class="dpar">array to search</em> <code>f</code><em class="dpar">criteria function to test if item matches</em> <code>c</code><em class="dpar">cleanup function to clean the stack</em> &rarr; <code>i</code> )</h3>
<p>Uses the provided functions to find an item. returns the index of the first found item.</p>
<h3 id="find"><code>find</code>  ( <code>a</code> <code>x</code> &rarr; <code>i</code> )</h3>
<p>Finds the first index where item <code>x</code> occurs in the array <code>a</code>.</p>
<h3 id="findwith"><code>findwith</code> <em class="shadowed"><code>criteria</code></em> <em class="shadowed"><code>cleanup</code></em> ( <code>a</code> &rarr; <code>i</code> )</h3>
<p>Same as <a href="#matchitem"><code>matchitem</code></a> but uses lookahead for <code>cleanup</code> and <code>criteria</code>.</p>
<h3 id="found%3f"><code>found?</code>  ( <code>a</code> <code>i</code> &rarr; <code>t</code> )</h3>
<p>True if <code>i</code> is <code>a</code> valid index into array <code>a</code>.</p>
<p>Example:</p>
<pre><code class="language-phoo">
to has-foo? [ dup $ &quot;foo&quot; find found? ]
</code></pre>
<h3 id="lower"><code>lower</code>  ( <code>s</code> &rarr; <code>s</code> )</h3>
<p>Turns a string lowercase.</p>
<h3 id="upper"><code>upper</code>  ( <code>s</code> &rarr; <code>s</code> )</h3>
<p>Turns a string uppercase.</p>
<h3 id="%2b%2b"><code>++</code>  ( <code>s1</code> <code>s2</code> &rarr; <code>s1s2</code> )</h3>
<p>Concatenates 2 items after casting both to string type.</p>
<h3 id="num%3e%24"><code>num&gt;$</code>  ( <code>x</code> <code>n</code> &rarr; <code>s</code> )</h3>
<p>Writes number <code>x</code> in base n.</p>
<h3 id="%24%3enum"><code>$&gt;num</code>  ( <code>s</code> <code>n</code> &rarr; <code>x</code> )</h3>
<p>Parses string <code>s</code> as a number in base <code>n</code>.</p>
<h3 id="big"><code>big</code>  ( <code>n</code> &rarr; <code>b</code> )</h3>
<p>Turns number <code>n</code> into a <code>BigInt</code>.</p>
<h3 id="unbig"><code>unbig</code>  ( <code>b</code> &rarr; <code>n</code> )</h3>
<p>Reverse of <a href="#big"><code>big</code></a>, it coerces a bigint back to a number.</p>
<h3 id="sortwith"><code>sortwith</code> <em class="shadowed"><code>comp</code></em> ( <code>a</code> &rarr; <code>s</code> )</h3>
<p>Using comparator <code>comp</code>, sorts the array. Does not mutate the array.</p>
<h3 id="sort"><code>sort</code>  ( <code>a</code> &rarr; <code>s</code> )</h3>
<p>Sort an array of numbers.</p>
<h3 id="sort%24"><code>sort$</code>  ( <code>a</code> &rarr; <code>s</code> )</h3>
<p>Sort an array of strings.</p>
<h3 id="try"><code>try</code> <em class="shadowed"><code>block</code></em> <em class="shadowed"><code>except</code></em> (  &rarr;  )</h3>
<p>Runs <code>block</code>, and if it threw an error, runs <code>except</code> with the error on the stack. If <code>block</code> ran fine, skips <code>except</code>.</p>
<h3 id="nestdepth"><code>nestdepth</code>  (  &rarr; <code>n</code> )</h3>
<p>Puts the current recursion depth on the stack.</p>
<h3 id="stacksize"><code>stacksize</code>  (  &rarr; <code>n</code> )</h3>
<p>Puts the number of items on the stack, on the stack.</p>
<h3 id="to%2ddo"><code>to-do</code>  (  &rarr; <code>a</code> )</h3>
<p>To-do is <code>a</code> general purpose ancillary <a href="#stack"><code>stack</code></a>.</p>
<h3 id="new%2ddo"><code>new-do</code>  ( <code>a</code> &rarr;  )</h3>
<p>Initializes the <a href="#stack"><code>stack</code></a> <code>a</code> as <code>a</code> to-do stack by putting <a href="#done"><code>done</code></a> on it.</p>
<h3 id="add%2dto"><code>add-to</code>  ( <code>xxx*</code> <code>c</code> <code>n</code> <code>a</code> &rarr;  )</h3>
<p>Puts the action <code>c</code> and its arguments <code>xxx*</code> (the number of which is <code>n</code>) on the to-do stack <code>a</code>.</p>
<h3 id="now%2ddo"><code>now-do</code>  ( <code>a</code> &rarr;  )</h3>
<p>Runs all the queued items on the to-do stack, until it hits the <a href="#done"><code>done</code></a> put there by <a href="#new%2dto"><code>new-to</code></a>.</p>
<h3 id="do%2dnow"><code>do-now</code>  ( <code>a</code> &rarr;  )</h3>
<p>Same as <a href="#now%2ddo"><code>now-do</code></a> but does the items in reverse order.</p>
<h3 id="not%2ddo"><code>not-do</code>  ( <code>a</code> &rarr;  )</h3>
<p>Removes all the queued items from the to-do stack <code>a</code> without running them.</p>
<h3 id="chr"><code>chr</code>  ( <code>n</code> &rarr; <code>s</code> )</h3>
<p>Returns the character with the Unicode code point <code>n</code>.</p>
<h3 id="ord"><code>ord</code>  ( <code>s</code> &rarr; <code>n</code> )</h3>
<p>Reverse of <a href="#chr"><code>chr</code></a>, it gets the code point of the character.</p>
<h3 id="isa%3f"><code>isa?</code>  ( <code>a</code> <code>s</code> &rarr; <code>t</code> )</h3>
<p>True if item <code>a</code>&lsquo;s <a href="#type"><code>type</code></a> is the same as <code>s</code>.</p>
<h3 id="isoneof"><code>isoneof</code>  ( <code>a</code> <code>ss</code> &rarr; <code>t</code> )</h3>
<p>Same as <a href="#isa%3f"><code>isa?</code></a> but accepts an array of types, which will succeed if any of them is the <a href="#type"><code>type</code></a> of <code>a</code>.</p>
<h3 id="stringify"><code>stringify</code>  ( <code>a</code> &rarr; <code>s</code> )</h3>
<p>Converts <code>a</code> to a string.</p>
<h3 id="arrayify"><code>arrayify</code>  ( <code>x</code> &rarr; <code>a</code> )</h3>
<p>Converts <code>a</code> to an array.</p>
<h3 id="phoo"><code>phoo</code>  ( <code>c</code> &rarr;  )</h3>
<p>Compile and run the code.</p>
<h3 id="new%40"><code>new@</code>  ( <code>f</code> &rarr; <code>o</code> )</h3>
<p>Constructs the function <code>f</code> by calling it with no arguments.</p>
<h3 id="call%40"><code>call@</code>  ( <code>f</code> &rarr; <code>r</code> )</h3>
<p>Calls the function <code>f</code> with no arguments.</p>
<h3 id="%21%21todo%21%21"><code>!!todo!!</code>  (  &rarr;  )</h3>
<p>Throws <code>'todo'</code>.</p>
<h3 id="use"><code>use</code> <em class="shadowed"><code>path/to/module</code></em> (  &rarr;  )</h3>
<p>Imports the module, skipping if it was already imported.</p>
<h3 id="reuse"><code>reuse</code> <em class="shadowed"><code>path/to/module</code></em> (  &rarr;  )</h3>
<p>Imports the module, force-reloading it even if it is already loaded.</p>
<h3 id="dir"><code>dir</code>  (  &rarr; <code>a</code> )</h3>
<p>Returns a list of the names of all the available words in this scope.</p>
<h3 id="%5f%5fname%5f%5f"><code>__name__</code>  (  &rarr; <code>s</code> )</h3>
<p>Gets the name of the current thread running. Implementation-dependent.</p>
<hr />
<p><a href="/docs/index.html">back to index</a></p>
<p class="shadowed">docs@81bb712</p></body></html>